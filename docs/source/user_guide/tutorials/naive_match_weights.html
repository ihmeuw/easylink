<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300, "discreteHeight": 60, "discreteWidth": 400}, "header": {"title": null}, "mark": {"tooltip": null}, "title": {"anchor": "middle"}}, "vconcat": [{"mark": {"type": "bar", "clip": true, "height": 15}, "encoding": {"color": {"field": "log2_bayes_factor", "scale": {"domain": [-10, 0, 10], "interpolate": "lab", "range": ["red", "#bbbbbb", "green"]}, "title": "Match weight", "type": "quantitative"}, "tooltip": [{"field": "comparison_name", "title": "Comparison name", "type": "nominal"}, {"field": "probability_two_random_records_match", "format": ".4f", "title": "Probability two random records match", "type": "nominal"}, {"field": "log2_bayes_factor", "format": ",.4f", "title": "Equivalent match weight", "type": "quantitative"}, {"field": "bayes_factor_description", "title": "Match weight description", "type": "nominal"}], "x": {"axis": {"domain": false, "gridColor": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": "#aaa"}, "value": "#ddd"}, "gridDash": {"condition": {"test": "abs(datum.value / 10) == 1", "value": [3]}, "value": null}, "gridWidth": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": 2}, "value": 1}, "labels": false, "ticks": false, "title": ""}, "field": "log2_bayes_factor", "scale": {"domain": [-14, 14]}, "type": "quantitative"}, "y": {"axis": {"title": "Prior (starting) match weight", "titleAlign": "right", "titleAngle": 0, "titleFontWeight": "normal"}, "field": "label_for_charts", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "height": 20, "transform": [{"filter": "(datum.comparison_name == 'probability_two_random_records_match')"}]}, {"mark": {"type": "bar", "clip": true}, "encoding": {"color": {"field": "log2_bayes_factor", "scale": {"domain": [-10, 0, 10], "interpolate": "lab", "range": ["red", "#bbbbbb", "green"]}, "title": "Match weight", "type": "quantitative"}, "row": {"field": "comparison_name", "header": {"labelAlign": "left", "labelAnchor": "middle", "labelAngle": 0}, "sort": {"field": "comparison_sort_order"}, "type": "nominal"}, "tooltip": [{"field": "comparison_name", "title": "Comparison name", "type": "nominal"}, {"field": "label_for_charts", "title": "Label", "type": "ordinal"}, {"field": "sql_condition", "title": "SQL condition", "type": "nominal"}, {"field": "m_probability", "format": ".10~g", "title": "M probability", "type": "quantitative"}, {"field": "u_probability", "format": ".10~g", "title": "U probability", "type": "quantitative"}, {"field": "bayes_factor", "format": ",.6f", "title": "Bayes factor = m/u", "type": "quantitative"}, {"field": "log2_bayes_factor", "format": ".4~g", "title": "Match weight = log2(m/u)", "type": "quantitative"}, {"field": "bayes_factor_description", "title": "Match weight description", "type": "nominal"}, {"field": "m_probability_description", "title": "m probability description", "type": "nominal"}, {"field": "u_probability_description", "title": "u probability description", "type": "nominal"}], "x": {"axis": {"gridColor": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": "#aaa"}, "value": "#ddd"}, "gridDash": {"condition": {"test": "abs(datum.value / 10) == 1", "value": [3]}, "value": null}, "gridWidth": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": 2}, "value": 1}, "title": "Comparison level match weight = log2(m/u)"}, "field": "log2_bayes_factor", "scale": {"domain": [-14, 14]}, "type": "quantitative"}, "y": {"axis": {"title": null}, "field": "label_for_charts", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "height": {"step": 12}, "resolve": {"axis": {"y": "independent"}, "scale": {"y": "independent"}}, "transform": [{"filter": "(datum.comparison_name != 'probability_two_random_records_match')"}]}], "data": {"name": "data-15c7c126ee848a4c5338a8c2affc6997"}, "params": [{"name": "mouse_zoom", "select": {"type": "interval", "encodings": ["x"]}, "bind": "scales", "views": []}], "resolve": {"axis": {"y": "independent"}, "scale": {"y": "independent"}}, "title": {"text": "Model parameters (components of final match weight)", "subtitle": "Use mousewheel to zoom"}, "$schema": "https://vega.github.io/schema/vega-lite/v5.9.3.json", "datasets": {"data-15c7c126ee848a4c5338a8c2affc6997": [{"comparison_name": "probability_two_random_records_match", "sql_condition": null, "label_for_charts": "", "m_probability": null, "u_probability": null, "m_probability_description": null, "u_probability_description": null, "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": null, "is_null_level": false, "bayes_factor": 0.00010001000100010001, "log2_bayes_factor": -13.287568102831404, "comparison_vector_value": 0, "max_comparison_vector_value": 0, "bayes_factor_description": "The probability that two random records drawn at random match is 0.000 or one in  10,000.0 records.This is equivalent to a starting match weight of -13.288.", "probability_two_random_records_match": 0.0001, "comparison_sort_order": -1}, {"comparison_name": "ssn", "sql_condition": "\"ssn_l\" = \"ssn_r\"", "label_for_charts": "Exact match on ssn", "m_probability": 0.9805833531939452, "u_probability": 6.508168942541599e-05, "m_probability_description": "Amongst matching record comparisons, 98.06% of records (i.e. one in 1.02) are in the exact match on ssn comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.006508% of records (i.e. one in 15,365) are in the exact match on ssn comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 15066.962180164355, "log2_bayes_factor": 13.879100947818978, "comparison_vector_value": 1, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `exact match on ssn` then comparison is 15,067 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 0}, {"comparison_name": "ssn", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.01941664680605487, "u_probability": 0.9999349183105746, "m_probability_description": "Amongst matching record comparisons, 1.942% of records (i.e. one in 51.5) are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 99.99% of records (i.e. one in 1) are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.019417910556479, "log2_bayes_factor": -5.6864682203246435, "comparison_vector_value": 0, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is 51.5 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "\"first_name_l\" = \"first_name_r\"", "label_for_charts": "Exact match on first_name", "m_probability": 0.9185669619189712, "u_probability": 0.002738024953673918, "m_probability_description": "Amongst matching record comparisons, 91.86% of records (i.e. one in 1.089) are in the exact match on first_name comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.2738% of records (i.e. one in 365) are in the exact match on first_name comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 335.48524117226395, "log2_bayes_factor": 8.390105489863576, "comparison_vector_value": 1, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `exact match on first_name` then comparison is 335 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 1}, {"comparison_name": "first_name", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.08143303808102871, "u_probability": 0.9972619750463261, "m_probability_description": "Amongst matching record comparisons, 8.143% of records (i.e. one in 12.28) are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 99.73% of records (i.e. one in 1.003) are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.08165661593308607, "log2_bayes_factor": -3.6142864100847754, "comparison_vector_value": 0, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is 12.25 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 1}, {"comparison_name": "middle_initial", "sql_condition": "\"middle_initial_l\" = \"middle_initial_r\"", "label_for_charts": "Exact match on middle_initial", "m_probability": 0.9757367239444209, "u_probability": 0.07613103557211096, "m_probability_description": "Amongst matching record comparisons, 97.57% of records (i.e. one in 1.025) are in the exact match on middle_initial comparison level", "u_probability_description": "Amongst non-matching record comparisons, 7.613% of records (i.e. one in 13.14) are in the exact match on middle_initial comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 12.816543432148741, "log2_bayes_factor": 3.679935320518513, "comparison_vector_value": 1, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `exact match on middle_initial` then comparison is 12.82 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 2}, {"comparison_name": "middle_initial", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.024263276055579135, "u_probability": 0.923868964427889, "m_probability_description": "Amongst matching record comparisons, 2.426% of records (i.e. one in 41.21) are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 92.39% of records (i.e. one in 1.082) are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.02626268116994741, "log2_bayes_factor": -5.250841980583851, "comparison_vector_value": 0, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is 38.08 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 2}, {"comparison_name": "last_name", "sql_condition": "\"last_name_l\" = \"last_name_r\"", "label_for_charts": "Exact match on last_name", "m_probability": 0.9577871785392206, "u_probability": 0.0007130978883250487, "m_probability_description": "Amongst matching record comparisons, 95.78% of records (i.e. one in 1.044) are in the exact match on last_name comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.07131% of records (i.e. one in 1,402) are in the exact match on last_name comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 1343.1356258660467, "log2_bayes_factor": 10.3913892758646, "comparison_vector_value": 1, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `exact match on last_name` then comparison is 1,343 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 3}, {"comparison_name": "last_name", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.04221282146077951, "u_probability": 0.9992869021116749, "m_probability_description": "Amongst matching record comparisons, 4.221% of records (i.e. one in 23.69) are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 99.93% of records (i.e. one in 1.001) are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.04224294481552409, "log2_bayes_factor": -4.565145779257666, "comparison_vector_value": 0, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is 23.67 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 3}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>